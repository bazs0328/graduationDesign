---
description: 前端请求与错误处理，与后端 API 对应
globs: web/**/*.{vue,js,ts}
alwaysApply: false
---

# 前端约定

## 请求
- 所有请求经 `web/src/api.js` 的 `apiGet`/`apiPost`；Base URL 由 `VITE_API_BASE` 决定。
- 上传用 `apiPost(path, formData, true)`（isForm=true）；其余 POST 传 JSON。

## 错误
- api.js 已统一解析 4xx/5xx 与 FastAPI detail，并 `throw new Error(message)`；组件中 catch 后用于状态或提示即可。

## 与需求模块对应
- 需求①②：Upload / Summary / Keypoints 页与 `/api/docs`、`/api/summary`、`/api/keypoints`。
- 需求③：Q&A 页与 `/api/qa`、会话与 `/api/chat/sessions`、`/api/chat/sessions/{id}/messages`；P0 增强后需展示消息中的 sources。
- 需求④：Quiz 页与 `/api/quiz/generate`、`/api/quiz/submit`；后续模拟真题需新入口或参数。
- 需求⑤：Progress 页与 `/api/progress`、`/api/activity`、`/api/recommendations`。
